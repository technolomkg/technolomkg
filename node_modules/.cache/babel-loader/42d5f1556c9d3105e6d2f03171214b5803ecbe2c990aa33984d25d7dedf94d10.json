{"ast":null,"code":"import _objectSpread from\"D:/projekt_filse/RomaTechnolom/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useEffect,useState}from'react';import axios from\"axios\";import{useLocation}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import'./patch.scss';import{CustomContext}from\"../Context\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Patch=()=>{const{proba}=useContext(CustomContext);const[oneProduct,setOneProduct]=useState({});const id=useLocation().pathname.split('/').at(-1);useEffect(()=>{axios(\"http://localhost:3031/product/\".concat(id)).then(_ref=>{let{data}=_ref;return setOneProduct(data);});},[]);const{register,handleSubmit,reset}=useForm();const patchProduct=obj=>{axios.patch(\"http://localhost:3031/product/\".concat(id),obj);window.location.pathname=\"/buying-boards\";};return/*#__PURE__*/_jsxs(\"section\",{className:\"patch\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u0427\\u0442\\u043E\\u0431 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u043B\\u0438\\u0441\\u044C \\u043D\\u0443\\u0436\\u043D\\u043E \\u043D\\u0430\\u0436\\u0430\\u0442\\u044C \\u043D\\u0430 \\u043A\\u0430\\u0436\\u0434\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435 . \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u041D\\u0435 \\u0432\\u0430\\u0436\\u043D\\u043E \\u043F\\u0443\\u0441\\u0442\\u043E\\u0435 \\u0438\\u043B\\u0438 \\u043D\\u0435\\u0442 . \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0418\\u043D\\u0430\\u0447\\u0435 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0442\\u043E \\u0447\\u0442\\u043E \\u0438\\u0437\\u043C\\u0435\\u043D\\u044F\\u043B\\u0438 \\u0430 \\u043E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u0438\\u0441\\u0447\\u0435\\u0437\\u043D\\u0435\\u0442 \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0411\\u0435\\u0437 \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u0438 \\u043D\\u0430 \\u0432\\u043E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(patchProduct),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"title\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('title')),{},{defaultValue:oneProduct.title,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"price_new\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('price_new')),{},{defaultValue:oneProduct.price_new,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"price_old\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('price_old')),{},{defaultValue:oneProduct.price_old,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"description\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('description')),{},{defaultValue:oneProduct.description,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"description_dop\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('description_dop')),{},{defaultValue:oneProduct.description_dop,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"description_info_price\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('description_info_price')),{},{defaultValue:oneProduct.description_info_price,type:\"text\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"category\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('category')),{},{defaultValue:oneProduct.category,type:\"text\"}))]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>proba(\"\".concat(oneProduct.category)),children:\"\\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})]});};export default Patch;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","useLocation","useForm","CustomContext","jsx","_jsx","jsxs","_jsxs","Patch","proba","oneProduct","setOneProduct","id","pathname","split","at","concat","then","_ref","data","register","handleSubmit","reset","patchProduct","obj","patch","window","location","className","children","onSubmit","_objectSpread","defaultValue","title","type","price_new","price_old","description","description_dop","description_info_price","category","onClick"],"sources":["D:/projekt_filse/RomaTechnolom/src/Patch/Patch.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport './patch.scss'\r\nimport {CustomContext} from \"../Context\";\r\n\r\nconst Patch = () => {\r\n    const {proba} = useContext(CustomContext);\r\n\r\n    const [oneProduct, setOneProduct] = useState({});\r\n\r\n    const id = useLocation().pathname.split('/').at(-1);\r\n\r\n\r\n    useEffect(() => {\r\n        axios(`http://localhost:3031/product/${id}`)\r\n            .then(({data}) => setOneProduct(data))\r\n    }, []);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        reset\r\n    } = useForm();\r\n\r\n    const patchProduct = (obj) => {\r\n        axios.patch(`http://localhost:3031/product/${id}`, obj);\r\n        window.location.pathname = \"/buying-boards\"\r\n    };\r\n    return (\r\n        <section className='patch'>\r\n            <h1>\r\n                Чтоб изменения сохранились нужно нажать на каждое поле . <br/>\r\n                Не важно пустое или нет . <br/>\r\n                Иначе сохраниться только то что изменяли а остальное исчезнет <br/>\r\n                Без возможности на востановление\r\n            </h1>\r\n            <form onSubmit={handleSubmit(patchProduct)}>\r\n                <div className=\"\">\r\n                    <p>title</p>\r\n                    <input {...register('title')} defaultValue={oneProduct.title} type=\"text\"/>\r\n                </div>\r\n\r\n                <div className=\"\">\r\n                    <p>price_new</p>\r\n                    <input {...register('price_new')} defaultValue={oneProduct.price_new} type=\"text\"/>\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <p>price_old</p>\r\n                    <input {...register('price_old')} defaultValue={oneProduct.price_old} type=\"text\"/>\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <p>description</p>\r\n                    <input {...register('description')} defaultValue={oneProduct.description} type=\"text\"/>\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <p>description_dop</p>\r\n                    <input {...register('description_dop')} defaultValue={oneProduct.description_dop}\r\n                           type=\"text\"/>\r\n                </div>\r\n\r\n                <div>\r\n                    <p>description_info_price</p>\r\n                    <input {...register('description_info_price')}\r\n                           defaultValue={oneProduct.description_info_price} type=\"text\"/>\r\n                </div>\r\n\r\n                <div className=\"\">\r\n                    <p>category</p>\r\n                    <input {...register('category')} defaultValue={oneProduct.category} type=\"text\"/>\r\n                </div>\r\n\r\n                <button onClick={() => proba(`${oneProduct.category}`)}>изменить</button>\r\n            </form>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Patch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}